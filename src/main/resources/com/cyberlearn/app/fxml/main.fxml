<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.cyberlearn.app.controller.MainController">
    <top>
        <HBox spacing="16" styleClass="topbar">
            <Label text="CYBERLEARN" styleClass="brand"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Button text="User Profile" onAction="#onShowProfile" style="-fx-background-color: #00ff88; -fx-text-fill: black; -fx-font-weight: bold;"/>
            <Label text="Rank:"/>
            <Label fx:id="lblRank" text="Explorer" styleClass="rank"/>
            <ProgressBar fx:id="xpBar" prefWidth="200"/>
            <Button text="Help Guide" onAction="#onToggleGuide" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold;"/>
            <Button text="Toggle Theme" onAction="#onToggleTheme"/>
        </HBox>
    </top>
    <center>
        <SplitPane dividerPositions="0.75">
            <items>
                <TabPane tabClosingPolicy="UNAVAILABLE">
            <tabs>
                <Tab text="Dashboard">
                    <ScrollPane fitToWidth="true">
                        <VBox spacing="16" styleClass="content" style="-fx-padding: 20;">
                            <!-- User Profile Section -->
                            <VBox spacing="8" style="-fx-background-color: rgba(0, 255, 136, 0.1); -fx-padding: 16; -fx-background-radius: 8;">
                                <Label fx:id="lblWelcome" text="Welcome, Defender!" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #00ff88;"/>
                                <HBox spacing="20">
                                    <VBox spacing="4">
                                        <Label text="Username:" style="-fx-font-size: 12px; -fx-text-fill: #888;"/>
                                        <Label fx:id="lblUsername" text="shadow" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                                    </VBox>
                                    <VBox spacing="4">
                                        <Label text="Current Rank:" style="-fx-font-size: 12px; -fx-text-fill: #888;"/>
                                        <Label fx:id="lblRankDetail" text="Explorer" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                                    </VBox>
                                    <VBox spacing="4">
                                        <Label text="Total XP:" style="-fx-font-size: 12px; -fx-text-fill: #888;"/>
                                        <Label fx:id="lblTotalXP" text="0" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                                    </VBox>
                                </HBox>
                            </VBox>

                            <!-- Progress Stats Section -->
                            <VBox spacing="12" style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-padding: 16; -fx-background-radius: 8;">
                                <Label text="Learning Progress" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                                <Separator/>
                                <HBox spacing="20">
                                    <VBox spacing="8" style="-fx-pref-width: 150;">
                                        <Label text="Quiz Performance" style="-fx-font-size: 13px; -fx-font-weight: bold;"/>
                                        <Label fx:id="lblQuizStats" text="Score: 0 | Attempts: 0" style="-fx-font-size: 12px;"/>
                                    </VBox>
                                    <VBox spacing="8" style="-fx-pref-width: 150;">
                                        <Label text="Encryption Uses" style="-fx-font-size: 13px; -fx-font-weight: bold;"/>
                                        <Label fx:id="lblEncStats" text="0 times" style="-fx-font-size: 12px;"/>
                                    </VBox>
                                    <VBox spacing="8" style="-fx-pref-width: 150;">
                                        <Label text="Port Scans" style="-fx-font-size: 13px; -fx-font-weight: bold;"/>
                                        <Label fx:id="lblScanStats" text="0 scans" style="-fx-font-size: 12px;"/>
                                    </VBox>
                                    <VBox spacing="8" style="-fx-pref-width: 150;">
                                        <Label text="File Checks" style="-fx-font-size: 13px; -fx-font-weight: bold;"/>
                                        <Label fx:id="lblHashStats" text="0 files" style="-fx-font-size: 12px;"/>
                                    </VBox>
                                    <VBox spacing="8" style="-fx-pref-width: 150;">
                                        <Label text="Password Vault" style="-fx-font-size: 13px; -fx-font-weight: bold;"/>
                                        <Label fx:id="lblPassStats" text="0 uses" style="-fx-font-size: 12px;"/>
                                    </VBox>
                                </HBox>
                            </VBox>

                            <!-- Badges Section -->
                            <VBox spacing="12" style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-padding: 16; -fx-background-radius: 8;">
                                <Label text="Achievements and Badges" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                                <Separator/>
                                <Label fx:id="lblBadges" wrapText="true" text="Complete tasks to earn badges!" style="-fx-font-size: 13px;"/>
                            </VBox>

                            <!-- Quick Actions Section -->
                            <VBox spacing="12" style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-padding: 16; -fx-background-radius: 8;">
                                <Label text="Quick Launch Tools" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                                <Separator/>
                                <HBox spacing="12">
                                    <Button text="Encrypt Data" onAction="#onGoToEncryption" style="-fx-background-color: #00ff88; -fx-text-fill: black; -fx-font-weight: bold; -fx-pref-width: 150;"/>
                                    <Button text="Scan Ports" onAction="#onGoToPortScanner" style="-fx-background-color: #00ff88; -fx-text-fill: black; -fx-font-weight: bold; -fx-pref-width: 150;"/>
                                    <Button text="Check File" onAction="#onGoToIntegrity" style="-fx-background-color: #00ff88; -fx-text-fill: black; -fx-font-weight: bold; -fx-pref-width: 150;"/>
                                    <Button text="Passwords" onAction="#onGoToPasswords" style="-fx-background-color: #00ff88; -fx-text-fill: black; -fx-font-weight: bold; -fx-pref-width: 150;"/>
                                </HBox>
                                <Label text="Tip: Use these tools to gain XP and unlock new badges!" style="-fx-font-style: italic; -fx-font-size: 12px; -fx-text-fill: #888;"/>
                            </VBox>
                        </VBox>
                    </ScrollPane>
                </Tab>
                <Tab text="Encryption" >
                    <fx:include source="encryption.fxml"/>
                </Tab>
                <Tab text="Port Scanner">
                    <fx:include source="portscanner.fxml"/>
                </Tab>
                <Tab text="Integrity">
                    <fx:include source="hash.fxml"/>
                </Tab>
                <Tab text="Passwords">
                    <fx:include source="password.fxml"/>
                </Tab>
                <Tab text="Courses">
                    <fx:include source="courses.fxml"/>
                </Tab>
                <Tab text="Quiz">
                    <fx:include source="quiz.fxml"/>
                </Tab>
            </tabs>
        </TabPane>
        
        <!-- Guide Sidebar -->
        <ScrollPane fx:id="guideSidebar" prefWidth="300" visible="false">
            <VBox spacing="12" style="-fx-padding: 16; -fx-background-color: rgba(255, 255, 255, 0.05);">
                <Label text="CyberLearn User Guide" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #00ff88;"/>
                <Separator/>
                
                <Label text="Getting Started" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                <Label text="1. Dashboard: View your progress, XP, rank, and badges." wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="2. Use Quick Launch buttons to navigate to tools." wrapText="true" style="-fx-font-size: 11px;"/>
                
                <Separator/>
                <Label text="Tools" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                <Label text="Encryption: Encrypt/decrypt text using AES-GCM. Earn +10 XP per use." wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="Port Scanner: Scan network ports. Earn +10 XP per scan." wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="File Integrity: Check file hashes (SHA-256). Earn +10 XP." wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="Password Manager: Store passwords securely. Generate strong passwords. Earn +10 XP." wrapText="true" style="-fx-font-size: 11px;"/>
                
                <Separator/>
                <Label text="Courses" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                <Label text="1. Select a week from the list" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="2. Read the cheat sheet and notes" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="3. Click 'Open in YouTube' to watch video" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="4. Click 'Take Week Quiz' for 10 questions" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="5. Mark lesson complete for +5 XP and certificate" wrapText="true" style="-fx-font-size: 11px;"/>
                
                <Separator/>
                <Label text="Quiz System" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                <Label text="80 total questions across 8 weeks (10 per week). Earn +5 XP per correct answer." wrapText="true" style="-fx-font-size: 11px;"/>
                
                <Separator/>
                <Label text="XP and Ranking" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                <Label text="Explorer: 0-149 XP" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="Defender: 150-299 XP" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="Security Expert: 300-499 XP" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="Cyber Master: 500+ XP" wrapText="true" style="-fx-font-size: 11px;"/>
                
                <Separator/>
                <Label text="Badges" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                <Label text="Earn badges by using tools and completing tasks. Check Dashboard to see earned badges." wrapText="true" style="-fx-font-size: 11px;"/>
                
                <Separator/>
                <Label text="Tips" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                <Label text="- Complete lessons in order for best learning" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="- Take quizzes after watching videos" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="- Use tools regularly to earn XP" wrapText="true" style="-fx-font-size: 11px;"/>
                <Label text="- Check your progress on Dashboard" wrapText="true" style="-fx-font-size: 11px;"/>
            </VBox>
        </ScrollPane>
        
            </items>
        </SplitPane>
    </center>
</BorderPane>
